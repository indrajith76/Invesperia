<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invesperia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/styles/styles.css">
</head>

<body class="bg-white">
    <!-- TOP BAR -->
    <header class="relative bg-white border-b border-gray-300">
        <a class="absolute left-4 top-0 bottom-0 my-auto flex items-center" href="/pages/Team.html">
            <img src="/images/icons/rightArrowWithCircle.png" alt="">
        </a>
        <h4 class="text-[20px] text-center py-5">Share Testimonials</h4>
    </header>


    <div class="max-w-[480px] mx-auto min-h-screen px-4 pb-28">

        <div class="flex items-center gap-3 mt-8 mb-4">
            <img src="/images/Ellipse2.png" class="w-12 h-12 rounded-full border shadow">
            <div>
                <div>
                    <p class="text-[18px] text-[#1C1C1C] font-medium">Ronald Richards</p>
                    <p class="text-sm text-[#5F6B66]">ID: 8123456</p>
                </div>
            </div>
        </div>

        <div class="flex justify-center gap-1 text-[44px] mb-7" id="starContainer">
            <span class="star cursor-pointer text-gray-300" data-value="1">★</span>
            <span class="star cursor-pointer text-gray-300" data-value="2">★</span>
            <span class="star cursor-pointer text-gray-300" data-value="3">★</span>
            <span class="star cursor-pointer text-gray-300" data-value="4">★</span>
            <span class="star cursor-pointer text-gray-300" data-value="5">★</span>
        </div>
        <input type="hidden" id="ratingValue">

        <p class="text-[15px] text-[#1C1C1C] mb-2">Submit a testimonial to receive bonus balance.</p>

        <textarea class="h-[95px] w-full border border-[#1C1C1C] rounded-2xl p-4 text-sm" name="" id=""
            placeholder="Alhamdulillah, the Successful Gem Withdrawal.."></textarea>

        <!-- Upload Images-->
        <div id="uploadArea"
            class="rounded-xl p-4 cursor-pointer bg-[#F8F8F8] transition-all flex items-center justify-center gap-2 my-4"
            onclick="document.getElementById('imageInput').click()">
            <img src="/images/icons/camera.png" alt="">
            <div class="text-[#1F6F43] text-[16px]">Tap to select a proof of withdrawal</div>
            <input type="file" id="imageInput" name="image" accept="image/*" multiple class="hidden" required>
        </div>

        <!-- Preview Grid -->
        <div id="previewContainer" class="grid grid-cols-2 gap-2 mt-4"></div>

    </div>

    <!-- bottom btn -->
    <div class="bg-[#e7e7e7] fixed bottom-0 w-full h-auto px-4 py-4 flex items-center justify-center">
        <button class="btnGreenBG w-full py-[18px] rounded-[30px]">
            Submit Evidence
        </button>
    </div>

    <!-- SCRIPT -->
    <script>
        /* multiple image preview */
        const input = document.getElementById('imageInput');
        const previewContainer = document.getElementById('previewContainer');

        let selectedFiles = [];

        input.addEventListener('change', () => {
            selectedFiles = [...input.files];
            renderImages();
        });

        function renderImages() {
            previewContainer.innerHTML = "";

            selectedFiles.forEach((file, index) => {
                const wrapper = document.createElement('div');
                wrapper.className = "relative";

                const img = document.createElement('img');
                img.src = URL.createObjectURL(file);
                img.className = "w-full h-[167px] object-cover rounded-xl shadow";

                const removeBtn = document.createElement('button');
                removeBtn.innerHTML = "✕";
                removeBtn.className = `
            absolute top-1 right-1 bg-black/60 text-white 
            w-6 h-6 rounded-full text-sm flex items-center justify-center
        `;

                removeBtn.onclick = () => {
                    selectedFiles.splice(index, 1);
                    renderImages();
                };

                wrapper.appendChild(img);
                wrapper.appendChild(removeBtn);
                previewContainer.appendChild(wrapper);
            });
        }

        // Star manipulation
        const stars = document.querySelectorAll('.star');
        const ratingValue = document.getElementById('ratingValue');
        stars.forEach(star => {
            star.addEventListener('click', () => {
                const value = star.dataset.value;
                ratingValue.value = value;
                stars.forEach(s => {
                    s.style.color = s.dataset.value <= value ? '#FFCC00' : '#ccc';
                });
            });
        });



    </script>

</body>

</html>